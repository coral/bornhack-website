{% extends 'program_base.html' %}

{% load commonmark %}
{% load staticfiles %}

{% block program_content %}

<div id="schedule-container"></div>

<script src="{% static "js/elm_based_schedule.js" %}"></script>

<script>
var container = document.getElementById('schedule-container');
var elm_app = Elm.Main.embed(
    container,
    { 'schedule_timeslot_length_minutes': Number('{{ schedule_timeslot_length_minutes }}')
    , 'schedule_midnight_offset_hours': Number('{{ schedule_midnight_offset_hours }}')
    , 'ics_button_href': "{% url 'ics_view' camp_slug=camp.slug %}"
    , 'camp_slug': "{{ camp.slug }}"
    , 'websocket_server': "ws://" + window.location.host + "/schedule/"
    }
);
</script>

{% endblock %}
